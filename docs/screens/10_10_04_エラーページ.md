# エラーページ 詳細設計書

## 1. 画面情報

| 項目 | 内容 |
|------|------|
| 画面ID | `10_10_04` |
| 画面名 | エラーページ |
| 旧画面ID | `SCR-004` |
| URL | `/error` または任意のエラー発生時 |
| 認証 | 不要 |
| 優先度 | 中 |

## 2. 画面概要

### 2.1 目的
予期しないエラーが発生した場合に表示する画面

### 2.2 主要な要素

| 要素名 | 種類 | 説明 | 必須 |
|--------|------|------|------|
| エラーメッセージ | テキスト | エラーの内容を表示 | ○ |
| ホームに戻るボタン | ボタン | ダッシュボードまたはログインページに遷移 | ○ |
| 再試行ボタン | ボタン | エラーが一時的な場合の再試行（オプション） | - |

## 3. 画面状態

### 3.1 エラー表示状態
- エラーメッセージを表示
- ホームに戻るボタンと再試行ボタン（オプション）を表示

## 4. アクション一覧

### 4.1 アクション一覧表

| アクションID | アクション名 | トリガー | 遷移先 | 備考 |
|-------------|-------------|---------|--------|------|
| 10_10_04_act01 | ホームに戻る | ホームに戻るボタンクリック | ダッシュボード（`10_10_02`）またはログインページ（`10_10_01`） | 認証状態に応じて遷移先が変わる |
| 10_10_04_act02 | 再試行 | 再試行ボタンクリック | 前のページまたはエラーページ | エラーが一時的な場合 |

### 4.2 アクション詳細

#### 10_10_04_act01: ホームに戻る

**アクションID**: `10_10_04_act01`  
**アクション名**: ホームに戻る  
**トリガー**: ホームに戻るボタンクリック

**処理フロー**:
1. 認証状態をチェック
2. ログイン済みの場合: ダッシュボード（`10_10_02`）に遷移
3. 未ログインの場合: ログインページ（`10_10_01`）に遷移

**遷移先**:
- ログイン済み: ダッシュボード（`10_10_02`）
- 未ログイン: ログインページ（`10_10_01`）

#### 10_10_04_act02: 再試行

**アクションID**: `10_10_04_act02`  
**アクション名**: 再試行  
**トリガー**: 再試行ボタンクリック

**処理フロー**:
1. 前のページに戻る、またはエラーが発生した操作を再試行
2. エラーが解消されない場合、エラーページに留まる

**遷移先**:
- 前のページ、またはエラーページ（`10_10_04`）に留まる

## 5. 画面遷移

### 5.1 遷移元

| 遷移元画面 | 遷移条件 | 備考 |
|-----------|---------|------|
| 任意のページ | エラー発生時 | 予期しないエラーが発生した場合 |

### 5.2 遷移先

| 遷移先画面 | 遷移条件 | 備考 |
|-----------|---------|------|
| ダッシュボード | ホームに戻る（ログイン済み） | ログイン済みの場合 |
| ログインページ | ホームに戻る（未ログイン） | 未ログインの場合 |
| 前のページ | 再試行 | 再試行ボタンクリック時 |

## 6. エラーの種類

### 6.1 エラータイプ

| エラータイプ | 説明 | 表示内容 |
|------------|------|---------|
| ネットワークエラー | API通信エラー | 「通信エラーが発生しました」 |
| サーバーエラー | サーバー側のエラー | 「システムエラーが発生しました」 |
| 認証エラー | 認証関連のエラー | 「認証エラーが発生しました」 |
| 不明なエラー | その他のエラー | 「エラーが発生しました」 |

## 7. 備考

- エラーページは、予期しないエラーが発生した場合のフォールバック画面
- エラーの種類に応じて、適切なメッセージとアクションを提供
- 再試行ボタンは、一時的なエラーの場合に表示（オプション）

