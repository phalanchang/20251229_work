# 統合テスト・動作確認チェックリスト

## テスト環境の準備

- [ ] Docker Composeで全サービスを起動
- [ ] フロントエンド: http://localhost:3003 にアクセス可能
- [ ] バックエンドAPI: http://localhost:3004 にアクセス可能
- [ ] データベース: テストデータが投入されている

## 1. ログイン機能のテスト

### 1.1 正常系
- [ ] 正しいメールアドレスとパスワードでログイン成功
- [ ] ログイン成功後、ダッシュボードにリダイレクト
- [ ] トークンがlocalStorageに保存されている
- [ ] ユーザー情報が表示される

### 1.2 異常系
- [ ] 存在しないメールアドレスでログイン失敗
- [ ] 間違ったパスワードでログイン失敗
- [ ] 空のメールアドレスでバリデーションエラー
- [ ] 空のパスワードでバリデーションエラー
- [ ] 無効なメールアドレス形式でバリデーションエラー
- [ ] パスワードが8文字未満でバリデーションエラー
- [ ] エラーメッセージが適切に表示される

## 2. ログアウト機能のテスト

### 2.1 正常系
- [ ] ログアウトボタンをクリック
- [ ] 確認ダイアログが表示される（キャンセルで中断）
- [ ] ログアウト成功後、ログインページにリダイレクト
- [ ] トークンがlocalStorageから削除されている
- [ ] ユーザー情報がクリアされている

## 3. 認証状態確認のテスト

### 3.1 正常系
- [ ] ログイン後、`/api/auth/me`でユーザー情報を取得
- [ ] ユーザー情報が正しく表示される

### 3.2 異常系
- [ ] 無効なトークンで`/api/auth/me`を呼び出すと401エラー
- [ ] トークンなしで`/api/auth/me`を呼び出すと401エラー

## 4. ルーティングのテスト

### 4.1 パブリックルート
- [ ] 未ログイン状態で`/login`にアクセス → ログインページが表示される
- [ ] ログイン済み状態で`/login`にアクセス → ダッシュボードにリダイレクト

### 4.2 保護されたルート
- [ ] ログイン済み状態で`/dashboard`にアクセス → ダッシュボードが表示される
- [ ] ログイン済み状態で`/protected`にアクセス → 保護されたページが表示される
- [ ] 未ログイン状態で`/dashboard`にアクセス → ログインページにリダイレクト
- [ ] 未ログイン状態で`/protected`にアクセス → ログインページにリダイレクト

### 4.3 デフォルトルート
- [ ] 未ログイン状態で`/`にアクセス → ダッシュボードにリダイレクト → ログインページにリダイレクト
- [ ] ログイン済み状態で`/`にアクセス → ダッシュボードにリダイレクト

### 4.4 404エラー
- [ ] 存在しないURLにアクセス → エラーページにリダイレクト

## 5. エラーハンドリングのテスト

### 5.1 ネットワークエラー
- [ ] バックエンドが停止している状態でログイン → エラーメッセージが表示される
- [ ] エラーページが適切に表示される

### 5.2 認証エラー
- [ ] トークンが期限切れの場合 → ログインページにリダイレクト
- [ ] 無効なトークンの場合 → ログインページにリダイレクト

## 6. UI/UXのテスト

### 6.1 ログインページ
- [ ] パスワード表示/非表示の切り替えが動作する
- [ ] ローディング状態が適切に表示される
- [ ] エラーメッセージが適切に表示される
- [ ] フォームバリデーションがリアルタイムで動作する

### 6.2 ダッシュボード
- [ ] ユーザー情報が正しく表示される
- [ ] ログアウトボタンが動作する
- [ ] 保護されたページへのリンクが動作する

### 6.3 保護されたページ
- [ ] 認証成功メッセージが表示される
- [ ] ユーザー情報が表示される
- [ ] ダッシュボードに戻るボタンが動作する

### 6.4 エラーページ
- [ ] エラーメッセージが表示される
- [ ] ホームに戻るボタンが動作する（認証状態に応じて適切なページに遷移）
- [ ] 前のページに戻るボタンが動作する

## 7. セキュリティのテスト

### 7.1 トークン管理
- [ ] トークンがlocalStorageに保存されている
- [ ] ログアウト時にトークンが削除される
- [ ] 無効なトークンでAPIを呼び出すと401エラー

### 7.2 認証ガード
- [ ] 未認証ユーザーが保護されたページに直接アクセスできない
- [ ] 認証が必要なAPIエンドポイントが保護されている

## 8. パフォーマンスのテスト

### 8.1 初期ロード
- [ ] ページの初期ロードが適切な時間内に完了する
- [ ] ローディング状態が適切に表示される

### 8.2 API応答
- [ ] APIリクエストの応答時間が適切
- [ ] エラー時のタイムアウト処理が適切

## 9. ブラウザ互換性のテスト

- [ ] Chromeで動作確認
- [ ] Firefoxで動作確認
- [ ] Edgeで動作確認
- [ ] Safariで動作確認（可能な場合）

## 10. レスポンシブデザインのテスト

- [ ] デスクトップ表示が適切
- [ ] タブレット表示が適切
- [ ] モバイル表示が適切

## テスト結果

### 実施日: ___________
### 実施者: ___________

### 結果サマリー
- 総テスト項目数: ___
- 成功: ___
- 失敗: ___
- スキップ: ___

### 発見された問題
1. 
2. 
3. 

### 修正済み問題
1. 
2. 
3. 

